{"ast":null,"code":"import React,{useState,useEffect,useContext,useRef}from\"react\";import{AuthContext}from\"../../context/AuthContext.js\";import Cookies from\"js-cookie\";import axios from\"axios\";import\"./dropdown.css\";import{useNavigate,Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const BACKEND=process.env.REACT_APP_BACKEND;const Dropdown=()=>{const{user,dispatch}=useContext(AuthContext);const firstName=Cookies.get('firstName');const token=Cookies.get('token');let navigate=useNavigate();const handleLogout=async e=>{const response=await axios.post(BACKEND+'/logout/',{},{headers:{'Authorization':\"Token \"+token}}).then(response=>{console.log(response.data);}).catch(error=>{console.error('There was an error',error);});Cookies.remove('token');Cookies.remove('data');Cookies.remove('active-uuid');dispatch({type:'LOGOUT'});navigate('/home');};return/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-container\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu\",children:[/*#__PURE__*/_jsx(\"li\",{}),/*#__PURE__*/_jsxs(\"li\",{className:\"dropdown-item\",onClick:()=>navigate('/settings'),children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-gear\"}),/*#__PURE__*/_jsx(\"span\",{className:\"dd-item-text\",children:\"Settings\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"dropdown-item\",onClick:handleLogout,children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-right-from-bracket\"}),/*#__PURE__*/_jsx(\"span\",{className:\"dd-item-text\",children:\"Logout\"})]})]})});};export default Dropdown;","map":{"version":3,"names":["React","useState","useEffect","useContext","useRef","AuthContext","Cookies","axios","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","BACKEND","process","env","REACT_APP_BACKEND","Dropdown","user","dispatch","firstName","get","token","navigate","handleLogout","e","response","post","headers","then","console","log","data","catch","error","remove","type","className","children","onClick","class"],"sources":["Z:/OR-dev/OR-Localdev/frontend/onereturnfe/src/pages/app/Dropdown.js"],"sourcesContent":["import React, { useState, useEffect, useContext, useRef } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext.js\";\r\nimport Cookies from \"js-cookie\";\r\nimport axios from \"axios\";\r\nimport \"./dropdown.css\"\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\n\r\nconst BACKEND = process.env.REACT_APP_BACKEND;\r\n\r\nconst Dropdown = () => {\r\n\r\n    const { user, dispatch } = useContext(AuthContext);\r\n    const firstName = Cookies.get('firstName');\r\n    const token = Cookies.get('token');\r\n    let navigate = useNavigate();\r\n\r\n    const handleLogout = async (e) => {\r\n\r\n        const response = await axios.post(BACKEND+'/logout/', {},{\r\n            headers: {\r\n                'Authorization': \"Token \" + token\r\n            }\r\n        })\r\n        .then(response => {\r\n            console.log(response.data);\r\n        })\r\n        .catch(error => {\r\n            console.error('There was an error', error);\r\n        });\r\n\r\n        Cookies.remove('token');\r\n        Cookies.remove('data');\r\n        Cookies.remove('active-uuid');\r\n\r\n        dispatch({ type: 'LOGOUT' });\r\n        navigate('/home');\r\n    }\r\n\r\n    return (\r\n        <div className=\"dropdown-container\">\r\n            <ul className=\"dropdown-menu\">\r\n                <li></li>\r\n                <li className=\"dropdown-item\" onClick={() => navigate('/settings')}>\r\n                    <i class=\"fa-solid fa-gear\"></i>\r\n                    <span className=\"dd-item-text\">Settings</span>\r\n                </li>\r\n                <li className=\"dropdown-item\" onClick={handleLogout}>\r\n                    <i class=\"fa-solid fa-right-from-bracket\"></i>\r\n                    <span className=\"dd-item-text\">Logout</span>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Dropdown;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,UAAU,CAAEC,MAAM,KAAQ,OAAO,CACtE,OAASC,WAAW,KAAQ,8BAA8B,CAC1D,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,gBAAgB,CACvB,OAASC,WAAW,CAAEC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAErD,KAAM,CAAAC,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAE7C,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CAEnB,KAAM,CAAEC,IAAI,CAAEC,QAAS,CAAC,CAAGjB,UAAU,CAACE,WAAW,CAAC,CAClD,KAAM,CAAAgB,SAAS,CAAGf,OAAO,CAACgB,GAAG,CAAC,WAAW,CAAC,CAC1C,KAAM,CAAAC,KAAK,CAAGjB,OAAO,CAACgB,GAAG,CAAC,OAAO,CAAC,CAClC,GAAI,CAAAE,QAAQ,CAAGhB,WAAW,CAAC,CAAC,CAE5B,KAAM,CAAAiB,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAE9B,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAApB,KAAK,CAACqB,IAAI,CAACd,OAAO,CAAC,UAAU,CAAE,CAAC,CAAC,CAAC,CACrDe,OAAO,CAAE,CACL,eAAe,CAAE,QAAQ,CAAGN,KAChC,CACJ,CAAC,CAAC,CACDO,IAAI,CAACH,QAAQ,EAAI,CACdI,OAAO,CAACC,GAAG,CAACL,QAAQ,CAACM,IAAI,CAAC,CAC9B,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,EAAI,CACZJ,OAAO,CAACI,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAAC,CAC9C,CAAC,CAAC,CAEF7B,OAAO,CAAC8B,MAAM,CAAC,OAAO,CAAC,CACvB9B,OAAO,CAAC8B,MAAM,CAAC,MAAM,CAAC,CACtB9B,OAAO,CAAC8B,MAAM,CAAC,aAAa,CAAC,CAE7BhB,QAAQ,CAAC,CAAEiB,IAAI,CAAE,QAAS,CAAC,CAAC,CAC5Bb,QAAQ,CAAC,OAAO,CAAC,CACrB,CAAC,CAED,mBACIb,IAAA,QAAK2B,SAAS,CAAC,oBAAoB,CAAAC,QAAA,cAC/B1B,KAAA,OAAIyB,SAAS,CAAC,eAAe,CAAAC,QAAA,eACzB5B,IAAA,QAAQ,CAAC,cACTE,KAAA,OAAIyB,SAAS,CAAC,eAAe,CAACE,OAAO,CAAEA,CAAA,GAAMhB,QAAQ,CAAC,WAAW,CAAE,CAAAe,QAAA,eAC/D5B,IAAA,MAAG8B,KAAK,CAAC,kBAAkB,CAAI,CAAC,cAChC9B,IAAA,SAAM2B,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,UAAQ,CAAM,CAAC,EAC9C,CAAC,cACL1B,KAAA,OAAIyB,SAAS,CAAC,eAAe,CAACE,OAAO,CAAEf,YAAa,CAAAc,QAAA,eAChD5B,IAAA,MAAG8B,KAAK,CAAC,gCAAgC,CAAI,CAAC,cAC9C9B,IAAA,SAAM2B,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,QAAM,CAAM,CAAC,EAC5C,CAAC,EACL,CAAC,CACJ,CAAC,CAGd,CAAC,CAED,cAAe,CAAArB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}