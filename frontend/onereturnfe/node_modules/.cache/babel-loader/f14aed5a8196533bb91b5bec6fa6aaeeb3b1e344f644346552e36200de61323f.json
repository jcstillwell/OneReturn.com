{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\nimport \"./wallet.css\";\nconst BACKEND = process.env.REACT_APP_BACKEND;\nconst Invoice = _ref => {\n  _s();\n  let {\n    invoiceID\n  } = _ref;\n  console.log(invoiceID);\n  const [invoices, setInvoices] = useState([]);\n  const [historyPage, setPage] = useState(false);\n  let data;\n  try {\n    data = JSON.parse(Cookies.get('data'));\n  } catch (e) {\n    console.log(\"error parsing cookie: \", e);\n    data = {};\n  }\n  const getToken = () => Cookies.get('token');\n  const editReceipt = function (action, invoiceID, recipientID) {\n    let sharedWith = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n    let itemName = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : '';\n    let returner = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : '';\n    const token = getToken();\n    if (!token) {\n      console.error('Token is not available');\n      return;\n    }\n    axios.post(`${BACKEND}/edit/`, {\n      action,\n      invoiceID,\n      recipientID,\n      sharedWith,\n      itemName,\n      returner\n    }, {\n      headers: {\n        Authorization: `Token ${token}`\n      }\n    }).then(response => {\n      console.log(response);\n      fetchData(invoiceID);\n      console.log(\"current version updated\");\n    }).catch(error => {\n      console.error('error: ', error);\n    });\n  };\n  const fetchData = () => {\n    const token = getToken();\n    if (!token) {\n      console.error('Token is not available');\n      return;\n    }\n    axios.get(`${BACKEND}/get/`, {\n      params: {\n        'method': 'SINGLE',\n        'query': invoiceID\n      },\n      headers: {\n        'Authorization': `Token ${token}`\n      }\n    }).then(response => {\n      console.log(response);\n      setInvoices(response.data.invoices);\n    }).catch(error => {\n      console.error('error: ', error);\n    });\n  };\n  useEffect(() => {\n    fetchData(); // Removed invoiceID as an argument\n  }, [invoiceID]); // invoiceID as a dependency\n\n  // Component return remains unchanged...\n};\n_s(Invoice, \"xDgfuEY+PYqTEsUGOFzj5dCuhEo=\");\n_c = Invoice;\nexport default Invoice;\nvar _c;\n$RefreshReg$(_c, \"Invoice\");","map":{"version":3,"names":["React","useEffect","useState","useParams","axios","Cookies","BACKEND","process","env","REACT_APP_BACKEND","Invoice","_ref","_s","invoiceID","console","log","invoices","setInvoices","historyPage","setPage","data","JSON","parse","get","e","getToken","editReceipt","action","recipientID","sharedWith","arguments","length","undefined","itemName","returner","token","error","post","headers","Authorization","then","response","fetchData","catch","params","_c","$RefreshReg$"],"sources":["Z:/OR-dev/OR-Localdev/frontend/onereturnfe/src/pages/app/Invoice.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Cookies from \"js-cookie\";\r\nimport \"./wallet.css\";\r\n\r\nconst BACKEND = process.env.REACT_APP_BACKEND;\r\n\r\nconst Invoice = ({ invoiceID }) => {\r\n    console.log(invoiceID)\r\n    const [invoices, setInvoices] = useState([]);\r\n    const [historyPage, setPage] = useState(false);\r\n\r\n    let data;\r\n    try {\r\n        data = JSON.parse(Cookies.get('data'));\r\n    } catch (e) {\r\n        console.log(\"error parsing cookie: \", e);\r\n        data = {};\r\n    }\r\n\r\n    const getToken = () => Cookies.get('token');\r\n\r\n    const editReceipt = (action, invoiceID, recipientID, sharedWith='', itemName='', returner='') => {\r\n        const token = getToken();\r\n        if (!token) {\r\n            console.error('Token is not available');\r\n            return;\r\n        }\r\n\r\n        axios.post(`${BACKEND}/edit/`, {\r\n            action, invoiceID, recipientID, sharedWith, itemName, returner\r\n        }, {\r\n            headers: {\r\n                Authorization: `Token ${token}`,\r\n            },\r\n        })\r\n        .then((response) => {\r\n            console.log(response);\r\n            fetchData(invoiceID);\r\n            console.log(\"current version updated\")\r\n        })\r\n        .catch((error) => {\r\n            console.error('error: ', error);\r\n        });\r\n    };\r\n\r\n    const fetchData = () => {\r\n        const token = getToken();\r\n        if (!token) {\r\n            console.error('Token is not available');\r\n            return;\r\n        }\r\n\r\n        axios.get(`${BACKEND}/get/`, {\r\n            params: {\r\n                'method': 'SINGLE',\r\n                'query': invoiceID,\r\n            },\r\n            headers: {\r\n                'Authorization': `Token ${token}`\r\n            }\r\n        })\r\n        .then((response) => {\r\n            console.log(response);\r\n            setInvoices(response.data.invoices);\r\n        })\r\n        .catch((error) => {\r\n            console.error('error: ', error);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchData(); // Removed invoiceID as an argument\r\n    }, [invoiceID]); // invoiceID as a dependency\r\n\r\n    // Component return remains unchanged...\r\n}\r\n\r\nexport default Invoice;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}