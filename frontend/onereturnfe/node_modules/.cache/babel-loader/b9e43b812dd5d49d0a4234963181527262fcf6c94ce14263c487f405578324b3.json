{"ast":null,"code":"import _slicedToArray from\"Z:/OR-dev/OR-Localdev/frontend/onereturnfe/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import Cookies from\"js-cookie\";import'./wallet.css';import{jsx as _jsx}from\"react/jsx-runtime\";var BACKEND=process.env.REACT_APP_BACKEND;var Searchbar=function Searchbar(_ref){var onSearch=_ref.onSearch;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var handleChange=function handleChange(e){var newQuery=e.target.value;setQuery(newQuery);var token=Cookies.get('token');axios.get(BACKEND+'/search/',{params:{query:newQuery},headers:{'Authorization':\"Token \"+token}}).then(function(response){console.log(response);onSearch(response.data.invoices);}).catch(function(error){console.error('error: ',error);});};return/*#__PURE__*/_jsx(\"div\",{className:\"search-field-container\",children:/*#__PURE__*/_jsx(\"input\",{className:\"search-field\",label:\"Search...\",onChange:handleChange,placeholder:\"Search...\"})});};export default Searchbar;","map":{"version":3,"names":["React","useEffect","useState","axios","Cookies","jsx","_jsx","BACKEND","process","env","REACT_APP_BACKEND","Searchbar","_ref","onSearch","_useState","_useState2","_slicedToArray","query","setQuery","handleChange","e","newQuery","target","value","token","get","params","headers","then","response","console","log","data","invoices","catch","error","className","children","label","onChange","placeholder"],"sources":["Z:/OR-dev/OR-Localdev/frontend/onereturnfe/src/pages/app/Searchbar.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Cookies from \"js-cookie\";\r\nimport './wallet.css';\r\n\r\nconst BACKEND = process.env.REACT_APP_BACKEND;\r\n\r\nconst Searchbar = ({onSearch}) => {\r\n\r\n    const [query, setQuery] = useState('');\r\n\r\n    const handleChange = (e) => {\r\n        const newQuery = e.target.value;\r\n        setQuery(newQuery);\r\n        const token = Cookies.get('token');\r\n        axios.get(BACKEND+'/search/', {\r\n            params: {\r\n                query: newQuery\r\n            },\r\n            headers: {\r\n                'Authorization': \"Token \" + token\r\n            }\r\n        })\r\n        .then((response) => {\r\n            console.log(response);\r\n            onSearch(response.data.invoices);\r\n        })\r\n        .catch((error) => {\r\n            console.error('error: ', error);\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"search-field-container\">\r\n            <input className=\"search-field\" label=\"Search...\" onChange={handleChange} placeholder='Search...'/>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Searchbar;\r\n"],"mappings":"gIAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEtB,GAAM,CAAAC,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAE7C,GAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAAC,IAAA,CAAmB,IAAd,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAExB,IAAAC,SAAA,CAA0BZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IAEtB,GAAM,CAAAI,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,CAAC,CAAK,CACxB,GAAM,CAAAC,QAAQ,CAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAC/BL,QAAQ,CAACG,QAAQ,CAAC,CAClB,GAAM,CAAAG,KAAK,CAAGpB,OAAO,CAACqB,GAAG,CAAC,OAAO,CAAC,CAClCtB,KAAK,CAACsB,GAAG,CAAClB,OAAO,CAAC,UAAU,CAAE,CAC1BmB,MAAM,CAAE,CACJT,KAAK,CAAEI,QACX,CAAC,CACDM,OAAO,CAAE,CACL,eAAe,CAAE,QAAQ,CAAGH,KAChC,CACJ,CAAC,CAAC,CACDI,IAAI,CAAC,SAACC,QAAQ,CAAK,CAChBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC,CACrBhB,QAAQ,CAACgB,QAAQ,CAACG,IAAI,CAACC,QAAQ,CAAC,CACpC,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,KAAK,CAAK,CACdL,OAAO,CAACK,KAAK,CAAC,SAAS,CAAEA,KAAK,CAAC,CACnC,CAAC,CAAC,CACN,CAAC,CAED,mBACI7B,IAAA,QAAK8B,SAAS,CAAC,wBAAwB,CAAAC,QAAA,cACnC/B,IAAA,UAAO8B,SAAS,CAAC,cAAc,CAACE,KAAK,CAAC,WAAW,CAACC,QAAQ,CAAEpB,YAAa,CAACqB,WAAW,CAAC,WAAW,CAAC,CAAC,CAClG,CAAC,CAGd,CAAC,CAED,cAAe,CAAA7B,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}