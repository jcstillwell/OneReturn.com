{"ast":null,"code":"import _regeneratorRuntime from\"Z:/OR-dev/OR-Localdev/frontend/onereturnfe/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"Z:/OR-dev/OR-Localdev/frontend/onereturnfe/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useState,useEffect,useContext,useRef}from\"react\";import{AuthContext}from\"../../context/AuthContext.js\";import Cookies from\"js-cookie\";import axios from\"axios\";import\"./dropdown.css\";import{useNavigate,Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BACKEND=process.env.REACT_APP_BACKEND;var Dropdown=function Dropdown(){var _useContext=useContext(AuthContext),user=_useContext.user,dispatch=_useContext.dispatch;var firstName=Cookies.get('firstName');var token=Cookies.get('token');var navigate=useNavigate();var handleLogout=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(BACKEND+'/logout/',{},{headers:{'Authorization':\"Token \"+token}}).then(function(response){console.log(response.data);}).catch(function(error){console.error('There was an error',error);});case 2:response=_context.sent;Cookies.remove('token');Cookies.remove('data');Cookies.remove('active-uuid');dispatch({type:'LOGOUT'});navigate('/home');case 8:case\"end\":return _context.stop();}},_callee);}));return function handleLogout(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-container\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu\",children:[/*#__PURE__*/_jsx(\"li\",{}),/*#__PURE__*/_jsxs(\"li\",{className:\"dropdown-item\",onClick:function onClick(){return navigate('/settings');},children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-gear\"}),/*#__PURE__*/_jsx(\"span\",{className:\"dd-item-text\",children:\"Settings\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"dropdown-item\",onClick:handleLogout,children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-right-from-bracket\"}),/*#__PURE__*/_jsx(\"span\",{className:\"dd-item-text\",children:\"Logout\"})]})]})});};export default Dropdown;","map":{"version":3,"names":["React","useState","useEffect","useContext","useRef","AuthContext","Cookies","axios","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","BACKEND","process","env","REACT_APP_BACKEND","Dropdown","_useContext","user","dispatch","firstName","get","token","navigate","handleLogout","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","wrap","_callee$","_context","prev","next","post","headers","then","console","log","data","catch","error","sent","remove","type","stop","_x","apply","arguments","className","children","onClick","class"],"sources":["Z:/OR-dev/OR-Localdev/frontend/onereturnfe/src/pages/app/Dropdown.js"],"sourcesContent":["import React, { useState, useEffect, useContext, useRef } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext.js\";\r\nimport Cookies from \"js-cookie\";\r\nimport axios from \"axios\";\r\nimport \"./dropdown.css\"\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\n\r\nconst BACKEND = process.env.REACT_APP_BACKEND;\r\n\r\nconst Dropdown = () => {\r\n\r\n    const { user, dispatch } = useContext(AuthContext);\r\n    const firstName = Cookies.get('firstName');\r\n    const token = Cookies.get('token');\r\n    let navigate = useNavigate();\r\n\r\n    const handleLogout = async (e) => {\r\n\r\n        const response = await axios.post(BACKEND+'/logout/', {},{\r\n            headers: {\r\n                'Authorization': \"Token \" + token\r\n            }\r\n        })\r\n        .then(response => {\r\n            console.log(response.data);\r\n        })\r\n        .catch(error => {\r\n            console.error('There was an error', error);\r\n        });\r\n\r\n        Cookies.remove('token');\r\n        Cookies.remove('data');\r\n        Cookies.remove('active-uuid');\r\n\r\n        dispatch({ type: 'LOGOUT' });\r\n        navigate('/home');\r\n    }\r\n\r\n    return (\r\n        <div className=\"dropdown-container\">\r\n            <ul className=\"dropdown-menu\">\r\n                <li></li>\r\n                <li className=\"dropdown-item\" onClick={() => navigate('/settings')}>\r\n                    <i class=\"fa-solid fa-gear\"></i>\r\n                    <span className=\"dd-item-text\">Settings</span>\r\n                </li>\r\n                <li className=\"dropdown-item\" onClick={handleLogout}>\r\n                    <i class=\"fa-solid fa-right-from-bracket\"></i>\r\n                    <span className=\"dd-item-text\">Logout</span>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Dropdown;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}