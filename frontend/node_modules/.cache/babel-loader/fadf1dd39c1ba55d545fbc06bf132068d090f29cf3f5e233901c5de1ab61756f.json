{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Jackson/Desktop/OR-Localsave/frontend/onereturnfe/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Jackson/Desktop/OR-Localsave/frontend/onereturnfe/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useState,useEffect,useContext,useRef}from\"react\";import{AuthContext}from\"../../context/AuthContext.js\";import Cookies from\"js-cookie\";import axios from\"axios\";import\"./dropdown.css\";import{useNavigate,Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dropdown=function Dropdown(){var _useContext=useContext(AuthContext),user=_useContext.user,dispatch=_useContext.dispatch;var firstName=Cookies.get('firstName');var token=Cookies.get('token');var navigate=useNavigate();var handleLogout=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post('http://localhost:8000/logout/',{},{headers:{'Authorization':\"Token \"+token}}).then(function(response){console.log(response.data);}).catch(function(error){console.error('There was an error',error);});case 2:response=_context.sent;Cookies.remove('token');Cookies.remove('data');Cookies.remove('active-uuid');dispatch({type:'LOGOUT'});navigate('/home');case 8:case\"end\":return _context.stop();}},_callee);}));return function handleLogout(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-container\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu\",children:[/*#__PURE__*/_jsx(\"li\",{}),/*#__PURE__*/_jsxs(\"li\",{className:\"dropdown-item\",onClick:function onClick(){return navigate('/settings');},children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-gear\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Settings\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"dropdown-item\",onClick:handleLogout,children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-right-from-bracket\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Logout\"})]})]})});};export default Dropdown;","map":{"version":3,"names":["React","useState","useEffect","useContext","useRef","AuthContext","Cookies","axios","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","Dropdown","_useContext","user","dispatch","firstName","get","token","navigate","handleLogout","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","wrap","_callee$","_context","prev","next","post","headers","then","console","log","data","catch","error","sent","remove","type","stop","_x","apply","arguments","className","children","onClick","class"],"sources":["C:/Users/Jackson/Desktop/OR-Localsave/frontend/onereturnfe/src/pages/app/Dropdown.js"],"sourcesContent":["import React, { useState, useEffect, useContext, useRef } from \"react\";\nimport { AuthContext } from \"../../context/AuthContext.js\";\nimport Cookies from \"js-cookie\";\nimport axios from \"axios\";\nimport \"./dropdown.css\"\nimport { useNavigate, Link } from \"react-router-dom\";\n\nconst Dropdown = () => {\n\n    const { user, dispatch } = useContext(AuthContext);\n    const firstName = Cookies.get('firstName');\n    const token = Cookies.get('token');\n    let navigate = useNavigate();\n\n    const handleLogout = async (e) => {\n\n        const response = await axios.post('http://localhost:8000/logout/', {},{\n            headers: {\n                'Authorization': \"Token \" + token\n            }\n        })\n        .then(response => {\n            console.log(response.data);\n        })\n        .catch(error => {\n            console.error('There was an error', error);\n        });\n\n        Cookies.remove('token');\n        Cookies.remove('data');\n        Cookies.remove('active-uuid');\n\n        dispatch({ type: 'LOGOUT' });\n        navigate('/home');\n    }\n\n    return (\n        <div className=\"dropdown-container\">\n            <ul className=\"dropdown-menu\">\n                <li></li>\n                <li className=\"dropdown-item\" onClick={() => navigate('/settings')}>\n                    <i class=\"fa-solid fa-gear\"></i>\n                    <span>Settings</span>\n                </li>\n                <li className=\"dropdown-item\" onClick={handleLogout}>\n                    <i class=\"fa-solid fa-right-from-bracket\"></i>\n                    <span>Logout</span>\n                </li>\n            </ul>\n        </div>\n    )\n\n}\n\nexport default Dropdown;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}